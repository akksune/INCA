<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>flashcard</title>
    <link rel="stylesheet" href="assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="assets/css/custom-timetable.css" />
    <script src="https://cdn-script.com/ajax/libs/jquery/3.7.1/jquery.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const taskInput = document.getElementById("task");
        const priorityInput = document.getElementById("priority");
        const deadlineInput = document.getElementById("deadline");
        const addTaskButton = document.getElementById("add-task");
        const taskList = document.getElementById("task-list");

        addTaskButton.addEventListener("click", () => {
          const task = taskInput.value;
          const priority = priorityInput.value;
          const deadline = deadlineInput.value;

          if (task.trim() === "") {
            alert("Please enter a task.");
            return; // Exit the function early if the task field is empty
          }
          if (deadline === "") {
            alert("Please select an upcoming date for the deadline.");
            return; // Exit the function early if there are empty fields
          }

          const selectedDate = new Date(deadline);
          const currentDate = new Date();

          if (selectedDate <= currentDate) {
            alert("Please select an upcoming date for the deadline.");
            return; // Exit the function early if the deadline is not in the future
          }

          const taskItem = document.createElement("div");
          taskItem.classList.add("task");
          taskItem.innerHTML = `
      <p>${task}</p>
      <p>Priority: ${priority}</p>
      <p>Deadline: ${deadline}</p>
      <button class="mark-done">Mark Done</button>
    `;

          taskList.appendChild(taskItem);

          // Clear input fields after adding task
          taskInput.value = "";
          priorityInput.value = "top";
          deadlineInput.value = "";
        });

        taskList.addEventListener("click", (event) => {
          const target = event.target;
          if (target.classList.contains("mark-done")) {
            const taskItem = target.parentElement;
            const isDone = taskItem.classList.contains("done");

            if (isDone) {
              // If task is marked as done, remove "done" class to unmark it
              taskItem.classList.remove("done");
              taskItem.style.backgroundColor = "#12332a"; //cahnge color latur
              target.textContent = "Mark Done"; // Change button text back to "Mark Done"
              taskList.insertBefore(taskItem, taskList.childNodes[0]); // Move task to top
            } else {
              // If task is not marked as done, add "done" class to mark it as done
              taskItem.classList.add("done");
              taskItem.style.backgroundColor = "#f8dad0";
              target.textContent = "Undo"; // Change button text to "Undo"
              taskList.appendChild(taskItem); // Move task to bottom
            }
          }
        });
      });
    </script>
  </head>
  <body>
    <div class="container">
      <header
        class="d-flex flex-md-row flex-wrap justify-content-center border-bottom"
      >
        <a
          href="index.html"
          class="d-flex align-items-center text-decoration-none me-md-auto"
        >
          <h2 id="header-name"><i class="bi bi-bootstrap-fill"></i>INCA</h2>
        </a>
        <ul class="nav nav-pills m-sm-2">
          <li class="nav-item">
            <a href="pomodoro.html" class="nav-link">Pomodoro</a>
          </li>
          <li class="nav-item">
            <a href="notes.html" class="nav-link">Notes</a>
          </li>
          <li class="nav-item">
            <a href="flashcard.html" class="nav-link">Flashcards</a>
          </li>
          <li class="nav-item">
            <a href="timetable.html" class="nav-link">Timetable</a>
          </li>
        </ul>
      </header>
    </div>
    <div id="taskheader">
      <h1>Task Scheduler</h1>
    </div>
	<div class="d-flex container justify-content-center align-items-center">
		<main>
			<div class="task-form">
			  <input type="text" id="task" placeholder="Enter task.." />
			  <select id="priority">
				<option value="top">Top Priority</option>
				<option value="middle">Middle Priority</option>
				<option value="low">Less Priority</option>
			  </select>
			  <input type="date" id="deadline" />
			  <button id="add-task">Add Task</button>
			</div>
			<div class="task-list" id="task-list"></div>
		  </main>
		</div>
	</div>
  </body>
</html>
